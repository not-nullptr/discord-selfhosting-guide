const fs = require("fs");
const http = require("http");
const https = require("https");

const downloadImageToUrl = (url, filename) => {
    let client = http;
    if (url.toString().indexOf("https") === 0) {
        client = https;
    }
    return new Promise((resolve, reject) => {
        const req = client.get(url, (res) => {
            res.pipe(fs.createWriteStream(filename))
                .on("error", reject)
                .once("close", () => resolve(filename));
        });

        req.on("error", (err) => {
            // Handle the error here
            reject(err);
        });
    });
};

const chunks = {
    446: "68c3435de5e432845cf6",
    457: "279150c151ca0f273aee",
    465: "e8992f20624e741ff7f0",
    529: "dbff9fba9598fc60d838",
    572: "8d57f7810dd2dd797512",
    979: "656311c04bb368ec6a31",
    1025: "f7c22f97b6108d4d14cf",
    1048: "ba356f9845080371b72b",
    1162: "59b99aac7280caf6f717",
    1341: "409a1698de6c9eda17ca",
    1442: "1e2df74977e285c0d62c",
    1459: "9a903bf0136831325ba0",
    1479: "f2400b4610ae0bfabc19",
    1562: "679ebee0a9dbcf0c34a3",
    1613: "a8b6dc031ce833c4d7d0",
    1650: "70e2e69dd12ea414b258",
    1653: "064ee0c5c3e0bbbf743e",
    1764: "5bfbe52c89379a008073",
    1934: "bfb11ba70bb5449d5810",
    2e3: "10193cb29b779f3cf33f",
    2010: "a558f33d606aa077a10a",
    2139: "a0880ffc53f947a7eab1",
    2263: "cc161188d5db1332f5eb",
    2455: "2e71fc776f4c42c10c87",
    2461: "76af42a8591be137fa2f",
    2573: "284f6686267ec15fd419",
    2955: "ce9615022298e6f5f9c5",
    2999: "a178925e38d01d943da9",
    3404: "3d24141c94ddf1cd1899",
    3454: "959023c98195369f23ee",
    3790: "0d3d148dabe87d586d68",
    3824: "b8a20902f0c5c7b47354",
    4018: "ecd9ab1c9a68037ae56c",
    4032: "16eed8fa8cd12aabf040",
    4070: "4d0fdcff01737fc038c7",
    4229: "3bbefc538928b8db2cba",
    4423: "f0061ef52f1db3bc715a",
    4483: "4a3d1062198e65002a5b",
    4729: "210d3a935832ad6736f7",
    4750: "1c5a0597aaba0079ec42",
    4767: "e2ede7f5bac5299a2632",
    4909: "083925db5f3cf66a27bb",
    5013: "591c3d4a6a8e4c70774b",
    5126: "b986dd38ee60c080937d",
    5496: "7ed8dd125d86a003a6b9",
    5522: "2d637bf9ccbaea792a4c",
    5549: "1bc175aaf909db5760f4",
    5991: "da47123a1659d03c6518",
    6422: "68cb87c436fad34d0244",
    6565: "f3582d571000810b2aa7",
    6578: "7bb367e620efdf6d4813",
    6652: "6865cef222e14e613ba1",
    6834: "9422e4ddd06f12da8609",
    7088: "f02b109dfa85dadacb51",
    7167: "e0a887c11afd79a7dfb6",
    7281: "710a85f657277663ee86",
    7434: "10bfc7b3999c20ac8056",
    7528: "43ee66312498b857d637",
    7679: "e2cd5afb6a8a6c0ceb8a",
    7727: "8af84de3b482ad377e21",
    7811: "ae0453a5a85c0bfcb288",
    7849: "1793511a4ee9ba2ab3f7",
    7945: "950f16761f36cb48cbe4",
    8056: "77204221bc5019f72613",
    8197: "980328fd67d746781b19",
    8276: "59c619fb925cf9ba5d5a",
    8388: "a5fe293d1f900e62556e",
    8621: "c5220507039f64189f28",
    8840: "f161f6b86f7d9eb6c507",
    9308: "14ca5facfb072328ad4c",
    9329: "3d062d637972aa947031",
    9355: "2810d18be8fe12be36d6",
    9582: "bc6acd42da1a0cdeb765",
    9600: "8d4d36e06fc359293a17",
    9755: "0f8b842d86dd288a18af",
    10504: "93a79c90adf1a8d06f05",
    10523: "e34edde4238a7c5079a7",
    10541: "bff00f8f82d9adbc8b62",
    10648: "a111215ed24b7c6c8f20",
    10675: "68f735b5ce5ce59011ad",
    10832: "c77bccb0994d7a5a7985",
    10848: "b8f5567f0dc8987cb4ad",
    11177: "dad71bc93acbf23370cd",
    11248: "2bca5148146ab09a0f77",
    11254: "b7abafc181ee76e5302c",
    11261: "10b845255917cd97da41",
    11266: "fb7980ac330c576fa926",
    11465: "2eea3c61c1e7dcd70178",
    11600: "4aba33ecb629b1acb570",
    11731: "6326893edf9cf4599584",
    11780: "17ad8a622fd913ef62df",
    11826: "08b6048782dea550750e",
    11860: "0e77f820b6fb4167f145",
    11913: "9355f9070d3ad999668a",
    12118: "caca0aa468a4e5bedc5a",
    12141: "3164c7dece360812081e",
    12295: "61cb3d353d3074cbc1bf",
    12671: "af65eb7abea14702fea3",
    12702: "64d664ade4dd7dda6e82",
    12773: "1421a9f862188531b71a",
    12777: "945977f5d46a003b4b34",
    13035: "e8bff4652b75292e6ff3",
    13107: "eab546cfd53ccb5e3937",
    13220: "849a623487bf7a6391c9",
    13301: "851e013cc42fe2b712ec",
    13499: "b44450b47ca729b3cac3",
    13586: "19318dd04d79b8a7d77e",
    13621: "77326a812be3751c9f4f",
    13777: "ddb886e7e28029a91bc1",
    14096: "c1b91d6158abbf63a6c6",
    14136: "0db49df79931b5a056f1",
    14203: "aeef3edd93c8056c8947",
    14284: "048270c815b8b4c88ad8",
    14288: "d35a0a5fbaf2807638ff",
    14372: "78d3a012fa152db351ee",
    14449: "b1a65cb077e9f8a8cfe5",
    14578: "ece0835af5122ea202d2",
    14594: "78763392a4afd268f884",
    14824: "c2763f605f38d7089ffc",
    14891: "d58f307e9e28d3d4bdac",
    14929: "9c05133389f5ed46f1b5",
    15434: "078150a0c8ad9dfb3984",
    15725: "fd1fbd2c4fa848f53f14",
    15760: "5b43c3bdcb72fb2db090",
    15814: "3c1a6a24ad00c1ac5bff",
    15985: "9af5c89da326a5081549",
    16139: "e171df6ccd7a051f0ced",
    16568: "9ce0da34c16c66595db3",
    16645: "5c08c40ec9b8206989a8",
    16673: "b3562be6a21c034219b6",
    16782: "eaa7f300039942a621ac",
    16841: "fec26821b96065200838",
    17015: "dd9b6fabdc7482c3aec2",
    17081: "8066c5a3e982b15865ad",
    17091: "0e21d1e1fee93f28af72",
    17251: "371f2b02535c5866c4c3",
    17257: "0c9e0f4c3dc6e5db58e3",
    17363: "dcf7f31b9654df28852d",
    17410: "ab402b3cd2a49192aa03",
    17428: "7ef4833f503073e753b1",
    17469: "59bb881bed4d33a9af40",
    17586: "6c5d115638071187a99d",
    17592: "ce0e7fc2c0a4e5f0713f",
    17854: "f7bc97935eb2cd9b04a0",
    17864: "af7f6e3d5aee25b233d5",
    18079: "dc8ec454140a052aec6f",
    18359: "f924e509d69b1beccdb5",
    18407: "6c0e8d429c14ac84bf29",
    18442: "8d49c59bc81b48b16d4c",
    18470: "467c92468b69684d6704",
    18554: "805c318fd01b2d650903",
    18625: "8daa9b4a808795ca9d02",
    18665: "3dbe5ca38e000cb69b34",
    19155: "50a9f4cd3eaf11c25a66",
    19156: "84c1459cdc4917ea9c49",
    19431: "6e1f4ed97df56f3c5965",
    19507: "71c51f09e2793cd984db",
    19521: "01fb1574eeead02f24d2",
    19595: "b19645baf0fa5bae674c",
    19763: "1e09b20a05963404199a",
    19887: "b331ce1177caafa598d3",
    20069: "6ab9fc59727823838a09",
    20182: "450cad74bc67955ec346",
    20188: "0e4004b09776282aa1d4",
    20554: "63ba653c81fcc6026d9b",
    20637: "68c45391e9a6c5cce499",
    20737: "7e940725114f8e8158dd",
    20907: "420127f5e5c9a9176d25",
    20914: "97b66d795b8e2cddb062",
    20995: "27d3b547325d2112486a",
    21012: "e89468a42cbfd68d34bf",
    21145: "c314dd24abef452d7d10",
    21215: "5fb2b3d1487f013e7d20",
    21327: "021f4345806c9ac7074c",
    21373: "4d3127bda6c2339197ac",
    21588: "c9a2d1f0666c32c48617",
    21633: "136303b799e41c34ffae",
    21723: "d3af7cf87c56c8dbac6c",
    21786: "06a46fadd0569ddf35ff",
    21819: "1600e41410371867736b",
    21859: "28d711d28f0e9e11828e",
    22003: "7eef1ade2e7706564473",
    22010: "4ad8af01cce9b2d5576f",
    22170: "11aa9fb01c6933ba9afb",
    22325: "bea8d31b9a9c1d9c0e4c",
    22513: "64b0d021a34290b2ffd8",
    22587: "26b381e8f9374f46406b",
    23286: "3e1c1836bb82cd6b78fe",
    23527: "1303124aa642e28b634b",
    23564: "e6155c61d4fdeb43ed1a",
    23725: "506618c8b5e320bf59db",
    23783: "45abe17b239acb8d0d6e",
    23827: "f397c55191ebdf4618ea",
    23850: "eb56aed7baf52abd4a38",
    24209: "0d67f392454ac45b79c5",
    24251: "7fe911a54eb02d865057",
    24492: "6b0a500ad5dfb42d447c",
    24501: "abe143520b97cd888a93",
    24561: "14b5072d5cc9a7574f96",
    24567: "4c25f2f2657ea7fcef60",
    24871: "f5a9be76134e63a26597",
    25033: "166ecd500449169bad19",
    25051: "a26dd926e2652506601f",
    25135: "4c3064878d63888f4d7b",
    25289: "89f778431a9762c0a3c8",
    25312: "b599d601648dc61c400c",
    25380: "73e92e08c890cabe81e9",
    25934: "753c3fb74f8a36b039c3",
    25978: "8e21b9abb080ea33a94f",
    26136: "59cb63b4439d5836f097",
    26546: "9ca142305aff7e1c7b31",
    26719: "28946dc44a3c3b519b6d",
    26733: "81bfda4827c08453d635",
    26736: "5822b67d675a2f97110c",
    27051: "c04799a2d5210abef285",
    27059: "9057c1053374947f2326",
    27077: "5773284a95fcb66923ef",
    27134: "728093b44368fe198c9e",
    27314: "3bd4c51bb322eb5f5c5b",
    27373: "ec387964932db094a15e",
    27392: "9497f2d02b2a2b61a376",
    27477: "74a56503afec7019eb7d",
    27499: "8b3e75a0e7a91acb3b04",
    27608: "87c21f5360a335868ba0",
    27684: "412b6776e4064f2262f3",
    27713: "b2c9072459f2fbcec93e",
    27979: "ada47a4e7992b28d5416",
    27998: "95daa3c2785ad2aabe2b",
    28e3: "b80347916eb89f676733",
    28008: "11204b2db24ff51e5cd5",
    28081: "772d7f513ce8d9e0c34c",
    28457: "8aa8c73cd2f6df01791a",
    28478: "0f7db535e771f2ebb0d2",
    28531: "cb3c45aa0e4e18dfe2d1",
    28562: "72fd26c170d1aa2ad27c",
    28649: "f363f29e01261971761f",
    28746: "3f3ffb71677312c73ec7",
    29083: "d6643885640b23983d21",
    29105: "e49c84f7df771fcb6fca",
    29197: "a77aeee69c4da9b7c86f",
    29253: "fcab276334d0f44c704f",
    29375: "55391e04c24570c79f72",
    29459: "9de51cc4382da452f64d",
    29581: "6e287e488e81da0be59c",
    29615: "214058d4938cf32bbb15",
    29728: "27e66cf16b74eca6da29",
    30027: "ccb7748c1673a9e057ce",
    30269: "5c574ead466b200a00a8",
    30402: "a6422c5283013e8f8419",
    30437: "6b83599787c8044dea88",
    30695: "a9677dcaf96cd7fa50a0",
    30731: "91c55843fbe3d12d43cd",
    30873: "3c2a91253062c477f054",
    30881: "3a8213d902283b4a96ec",
    31152: "7fe36191a9300df2c31d",
    31186: "cf997dcf2565e0a89fc7",
    31480: "4ab96e81c97063222977",
    31488: "9c36a5669122a38a1612",
    31500: "16e0e29ea82d062851fc",
    31667: "8692c70217eb86bf3e22",
    31944: "d813c6cb1a98760fb6e0",
    32013: "350b8b0a024958b14ab9",
    32014: "05428d71ef8f54caf85f",
    32041: "8ccfde08283de6af179c",
    32083: "1c35e3d60bb00a55e682",
    32162: "69e6f60e5c11befa138a",
    32273: "4bd6bcd620ca738c9a86",
    32282: "c2d07f3a77cc98db90c3",
    32459: "51cbdd3be4326b5b7633",
    32978: "2c2a7a23f3352ad4e3b0",
    33086: "7c5289349d52f5240510",
    33166: "903b7cbd70d80c19571e",
    33404: "e7b75fb998e8ad06eb9e",
    33519: "16c93f18289d9fa617d0",
    33600: "5b99afdc92840c46d89d",
    33735: "f14e4931236c6b64a4ec",
    33970: "628589514e53ee04d66d",
    34165: "a0f098f0ab5510ecf08d",
    34466: "7aeddc732d7680df4abf",
    34495: "e82d4cdc3033a20256f6",
    34661: "7141dc7a83454a3bedcb",
    34691: "1aba6fd4d8394068daa0",
    35521: "60e67df4f286d8c98810",
    35579: "3f51f8c27a25596391df",
    35612: "c805549d1d5910e4f56a",
    35650: "2b3f0ba84d3c0de390f6",
    35657: "1569f408d9bd6c1d855f",
    35743: "2e0adc11a84dc3431c86",
    35751: "348065c91ce31fa88a48",
    35780: "a6b3cfaa212c614934fb",
    35923: "da27ceb93cb5b1c0280f",
    36158: "fc9b800d0f84ad3f2da6",
    36224: "dbc7e9ab4939a5bd2bd9",
    36332: "be8ecb987d8c40cb88f9",
    36334: "c7bdcaeb4ca2a60f3a69",
    36576: "769ed9fc352cce62aee9",
    36623: "1f6350a7715718cf20f9",
    36759: "b6b92319d88aa80b2558",
    36817: "3c33ab0d234ccbbeb371",
    37311: "bcafda2962f7cddceb4f",
    37464: "3f5831df7992c6d91f29",
    37472: "58f583f59930e4358cea",
    37761: "59c9ab283339a3a76fe6",
    37948: "4888feba3854c23cb3f9",
    38039: "7ec7aca3d08a27680417",
    38092: "184da04ae103133b8540",
    38104: "f219af7001240d3ac144",
    38175: "14f7d5121586889f0e58",
    38379: "3545a1731ef9349d3de7",
    38479: "4b3905a14fdf8c7c7c21",
    38525: "796d435aa047803ce267",
    38599: "ee0a7984752e793c765d",
    38615: "c36a1d870f70638b3346",
    38634: "7dc303c506adc6843063",
    38657: "258603dc8154a955b3c2",
    38780: "b0bb80ef86df92477046",
    38813: "57a7960d697cc72ec999",
    38826: "81e6ca7962e84e286b7e",
    38845: "9b42421c07f733e840e1",
    39023: "99bc36fb0a06145ff89b",
    39492: "22637e01d36b09351302",
    39621: "0aad93d6bac636cd6bc7",
    39685: "1cf20e548598a94cb6ad",
    39750: "09e34e53ad1e45f8bf22",
    39765: "5b00ec3376cdbb422cde",
    39810: "cebb6a8534bad4e975b7",
    39812: "e2d0860d8f8d62cee897",
    39813: "b9a78cd93d06178b77ff",
    39814: "a7cf551f5f926c5319dd",
    39876: "1b5498e008889ceb8e65",
    39915: "8d3ab4e365867fcf1555",
    40056: "d49e89f993e627b77d2d",
    40116: "34fe09a4b09719c7602e",
    40381: "1ae7c83fbe12cd14894e",
    40532: "eaf85414a42da5ad841f",
    40706: "61f2ffc1cb3dd2001fb1",
    41098: "616e500863f610328599",
    41380: "2ec0f334fdf057448bc3",
    41394: "4bc0f31844b20dbd4f9a",
    41446: "c9bf86338a534fbae044",
    41666: "baaedaedffde99928e9e",
    41794: "5c70d97457fbbba6176e",
    41818: "81362d2518bc38d6828e",
    42193: "2d692aa82c29bb51a89c",
    42341: "42a3ba9fa24bab4b4a24",
    42426: "1ee95ff69c4e5d31b2b9",
    42660: "a2e8249d7cbaf91545e2",
    42867: "897aa727c162d07ab4aa",
    42974: "6fd9393eebce0ea2ca5c",
    43315: "8da580dcd398f8824573",
    43372: "3cc405d55291fa7dd91e",
    43402: "2a630ffeeeaf30f2c511",
    43411: "1f2057b8eb90cf973eb8",
    43470: "c55175ab5c27defd226a",
    43569: "91e7640ffbec5a6af976",
    43929: "cec6fd6e4db574a96445",
    43942: "bb3e70a3f0a6fe306047",
    43968: "04226ca36611f6f4d6a7",
    44018: "a82222854c1a42013893",
    44279: "434b24f04db8d2431a66",
    44338: "3b66e0ff8aef270d7dd4",
    44522: "44c01cb22708d089a811",
    44696: "b76fec86c5b3b0ae86ff",
    44953: "677031258a6305e0b9d1",
    45313: "98d71ed7b63f4dfde23f",
    45353: "299522fbef2865a581d9",
    45684: "1c015b8743c64c6b47a8",
    45927: "fbc1db10b0c76166c8b1",
    46018: "932f1f20bb68a7af1044",
    46070: "2fbfba18f22f0f60d43a",
    46117: "9af365c57338c073fc04",
    46194: "89c6b10bc7dcb8c1313d",
    46197: "bd92388644ea3b6b4299",
    46208: "626906de796dd7e1542c",
    46345: "40a75f06a77318363fee",
    46500: "2157ddc1cdfd03c10c77",
    46559: "8b8fd5d998f9916976e1",
    46738: "a5e8f0a7c792aeba685e",
    46903: "3003c80713de74cf79cf",
    46962: "36c2994732b10ae8fb05",
    47035: "8ad5faf33067af3b2d3f",
    47097: "b65b598ff5f23bb1199e",
    47114: "c200d8b19ee0be67882d",
    47311: "3d101a1f00a235dcb30b",
    47346: "edc211006120616b9716",
    47428: "19b84122db0fde43d967",
    47458: "597f48f58c249d72dbe7",
    47617: "95d7295f32c87f5e15c8",
    47722: "f11cede29daa56bc20e4",
    47935: "666a9ceab2e713f0d0ec",
    48137: "cb34459fa38b65de3d5b",
    48140: "5d282fd20231c2fcb12c",
    48152: "d92bd3edb30007909115",
    48372: "0a5b9eb9cb864a2b8cc5",
    49096: "0961816ba7b5f8162013",
    49151: "6167534d06901a0a5b64",
    49178: "8c56e6c91ad60213876f",
    49244: "1781d466c97c413f4034",
    49393: "a23dd7c01db3e646511f",
    49518: "dc1cddcfc55b4b5ec19e",
    49607: "9f6093ea30f5495d2716",
    49667: "89649bf576d1391e640a",
    49770: "d510188c0bfa077d6c85",
    50093: "f2df608bcaa27e2b5594",
    50562: "78343a8c3e8ec334dce6",
    50648: "bbfa3cbe5335634e41dd",
    50763: "de44ad5c44ca0b4cc9b3",
    50764: "49e0b5ebf52526dcdf5b",
    50865: "5438288b94bd2f5abe10",
    51062: "042b1a15e7895e30d7e9",
    51153: "854aa42b40bb3cc77146",
    51388: "554a50e1595eaae9fe09",
    51395: "d9a0408da2730419bb39",
    51459: "9ef733040190bb91e6c8",
    51463: "41a4cda45edffc69ed0f",
    51483: "d100f1a0974472c6bbfd",
    51562: "f1c86f14e4c74140493f",
    51691: "6ca2adf84e109b10b5f8",
    51719: "0a6c45443b2584e71c37",
    51889: "7fb1182da845146851d8",
    51954: "e7a598e6084ccc1dd539",
    52121: "d6e4aa287e68857dccd6",
    52202: "48e20897893d3bf08106",
    52337: "37d09d4eea3993507846",
    52381: "0206e858977f7f2d8f5c",
    52386: "712cf35f8bc6562727d9",
    52409: "247724898179f81b7e8b",
    52555: "de1d8e8c81f0a2242fb2",
    52628: "8c664285b0bfa02c9ddd",
    53172: "c01ef86aa0646b22a453",
    53506: "618b439fa08913539593",
    53560: "35786c52b9ae57fec371",
    53572: "f12df099fe6e9798c0b6",
    53685: "dc20ef1248d91c06f848",
    54048: "409b2b22869b1ad9878c",
    54104: "77b73128e5c206d9bd5d",
    54123: "370d325c7b5106e59c7c",
    54124: "7e8e30928c715f1aa028",
    54143: "704272d69ad7f5ea751f",
    54184: "f5ad115abc9851eda3e0",
    54313: "1ae7caf381f9dc3f958f",
    54533: "f0b48b75d4202e53112a",
    54602: "3485196d28965504afb0",
    54690: "5d79b1e24ec6f7795fd4",
    54732: "fe040652178ceb837779",
    54776: "85a7d1b9a062f5807550",
    54886: "7d7fb6a94e4fc8fde49b",
    55052: "b6304ee8c3fbd8861a2f",
    55272: "3d526e509a696ae8cfc3",
    55427: "b8c52b04a96ace3f2d40",
    55766: "87c475ed94d91a6e5e6d",
    55887: "2fafe0eebe9d6bcd358c",
    56054: "3977cce78f57187e8f02",
    56167: "83f289a981524a38d19c",
    56212: "726f8963ec2e14c784ef",
    56248: "84e60e51808bcbc89305",
    56356: "301d09bf632d0ab8b3c1",
    56430: "5c3d535bfe1c8dbe1368",
    56576: "c0d1bb27b8bce44d9a24",
    56645: "9b7eb353da70edb187d0",
    56674: "00279d5539f072bc8763",
    56729: "316844d0aa12a47422c4",
    56730: "221e0d20818321514900",
    56890: "10617b2f1295c2d9cf49",
    56964: "9f7a3d560d3452a7b76c",
    56992: "33311f83ffe225546574",
    57026: "c8a32ead5b40507e20fc",
    57253: "17a8e2329eea0d25e85c",
    57641: "247b92eb0e5812ac00ac",
    57645: "c91601eeba72bed1bfba",
    57817: "14b5934e0a667d3d6968",
    57872: "dc0a702207e6749407d6",
    58083: "5feddf2b454fc2b7ff51",
    58442: "e108d7c08d9208273387",
    58539: "4b93be44cd8bf693b917",
    58702: "b695987ed02577fd461a",
    58868: "3be1f85105ba5b229f17",
    58969: "6bf04c010c36a546758f",
    59173: "28324d1b85a5a3a3a45d",
    59278: "750453c49210900e9ffa",
    59295: "42c862862a5f3eb07025",
    59818: "35d6eb16676585096113",
    59847: "41b651df2caafd9e4ea7",
    59859: "22e9aadaafad067791fd",
    59981: "b3d39e381c35c67eacac",
    60240: "c0da29bed683adfc825c",
    60284: "fa89f86b01981a9f30e9",
    60326: "12f32dabfb582e5490aa",
    60625: "8a5f94112c7c30879af3",
    61012: "acb6db99fd9376213b39",
    61029: "1180a5b2e889ef712678",
    61304: "6ad294f89be074b16e7e",
    61643: "18421c6039cb068bd646",
    61645: "e78d6e7bf805c9468177",
    61866: "2e7fca6f4da0fe49a55f",
    61953: "3fee2e0faea156381566",
    62374: "acf3742415c11c9e23dc",
    62389: "22c74462ec15b6cc0934",
    62439: "7b9f31dc3e9c54078c39",
    62444: "abdec0d563826b4d2e8f",
    62593: "6e0788ffc640cb4b8768",
    62638: "b44bb220dffa3dd2d9d3",
    62700: "c947f6325e45328958ad",
    62750: "81d9455734bc22a726f5",
    63002: "4f652641d3a8f79c4a72",
    63128: "41013481bb62e08ce4e0",
    63266: "f4639fb104e3dab61441",
    63390: "726ac73790608d6caeec",
    63411: "4a96b84bce52ffdba003",
    63634: "d3c5e3a5e9313e7803d6",
    63727: "db9fa6d7b766e0fc6f5a",
    63886: "4b8c25e54b8038b34b31",
    63897: "6ec526bffbdba6085527",
    64045: "01b784ee590993f74590",
    64363: "ec41290d3cb307f42bde",
    64396: "76e37de415d938a8b0e3",
    64466: "c982bcb52c2db22f7d6e",
    64502: "ce63a8278e5b59e094af",
    64849: "2572e9513cb05e7170b0",
    64991: "3cc6f77da10c9c5ab4c5",
    65057: "a724ed91faf5a9649d23",
    65087: "e24cc34f260b0549d90f",
    65650: "57b9098f78a3bbc7f4cd",
    65704: "bd55c9111e59c7ac1b54",
    65987: "a7587d9433afe294cda5",
    66058: "a094eabf97717a840f83",
    66240: "cd7691db124c4ec44675",
    66334: "fb54197d99026c6da501",
    66551: "fc397408496cf49bfaeb",
    66631: "03dc84e023a15a3b2ea1",
    66658: "a01c20a4c49d66939c8c",
    66671: "756e66326a1bd912d2c2",
    66745: "4f9df91e2ecec356a2af",
    66885: "54cd84ebb5d7cb3c64a4",
    67068: "c54c51701cf36481b210",
    67078: "a0f82a2ec73c24dd3e42",
    67112: "ddcb6e5e392f6ba09c66",
    67187: "b70fcdae44ad3c9f08ca",
    67455: "8f1d3ab656af2688dfcb",
    67783: "ee3c26d6786a1b8bc5e9",
    67953: "a058e6348b57f6bfc159",
    68109: "963f7ecf3ecc560b01b6",
    68690: "f62a9cc729349c4be165",
    68912: "40f6e7edf26db9d2156e",
    68953: "08c9fc806b146c30b38c",
    68994: "0c42a4c344b4ce86c2ba",
    69224: "5f5c05dde0241fb38a38",
    69414: "3f06b971ebdf72337463",
    69712: "160b8401948346b4df73",
    69836: "2f8431b240a1dffec47e",
    69876: "74486cb2feef2e9fcdeb",
    70232: "ded3cadda9dfd9696325",
    70245: "98a8afff97f4d81d0616",
    70462: "3dc93b366eb4f9bd3d06",
    70623: "ba85ace8c43928874b17",
    70700: "7250bad4dd06dd17cfb4",
    70746: "20e83bae684ab397beb8",
    70801: "0f1db1c45c63ef444c1f",
    70857: "bba9bb76cc5e78b830f7",
    70875: "3e61281af842d08dfbc9",
    70978: "decb79191345818ae493",
    70983: "02cb817638f3c56b30ec",
    71101: "dc5fa3547ef153f1350a",
    71363: "76e1711724c18ea425b0",
    71379: "dc5fd4bef66c4d1c4419",
    71569: "855e5c924e5402431bcb",
    71575: "cb54081c89aba47fbf27",
    71655: "7d4717b18b7d15cc7f89",
    71690: "dbcfe0ea97cc524fb333",
    71833: "3011e7acb563e69fedcc",
    72033: "ea3771289356840d03eb",
    72353: "032090dba5bdba384a64",
    72501: "d2e8ee6741fb481cb696",
    72519: "ac7a36b37016b07a834a",
    72552: "4d2c061eaa784c122ae4",
    72591: "4bee33184880c8bb1812",
    72629: "bfcf4767e1eb500eadb2",
    72715: "0bc448ca6d9f36e75bc0",
    72935: "78357c237df3826151ad",
    73177: "8fafecfa90df913923f4",
    73356: "9d1d50053bc1f4858d12",
    73523: "8c5661e6af050583b54e",
    73591: "dcac8be408f6c478c6a3",
    73727: "f84ba313519ca46c1330",
    73938: "72335eb8c9fe9f92fa94",
    74067: "5d6f7e36709cdd90ca45",
    74310: "6f6e39973f29888b23b0",
    74467: "da6338a211f03006f04b",
    74488: "52df1bbfbdd60b96cdb5",
    74544: "a5c4cb4317b4d13f315e",
    74562: "050389c5785051434541",
    74709: "4a63f74e7e020b252f6c",
    74780: "52844a60c9a50642578c",
    74886: "1f8d92846361a10403e5",
    75026: "055a133d1c0342506c8c",
    75037: "d3e6348ffae00d1c41cb",
    75103: "a408c4e3fbb3639e69fe",
    75129: "04b61550440d338b8384",
    75309: "3ce955d1287b74baa4a0",
    75334: "198e70b5c6c069f369e6",
    75336: "bf66ef55d9e29fd4886c",
    75409: "c702f57a4acef77e2e6f",
    75442: "061ead2e39d8ec51ea30",
    75600: "d554e8ef76c565087e83",
    75619: "db6d3311ed4370eac0fe",
    75651: "3dd646ea114becab36ef",
    75700: "d906a9177f4b4d2b9c20",
    75805: "5a5672d6e11bdad216d4",
    75864: "c379336d69548db4aa2f",
    76192: "ba651f244282e49984f0",
    76257: "bba27cb082b72502dac8",
    77179: "3f701e79f5b158663b16",
    77230: "90fe8d1a8280e5f959a0",
    77357: "498f12012ab39965f8ea",
    77383: "e4e929d4ac963120eef3",
    77703: "ca1122ac8931c1532861",
    77841: "e463983fedf38c62ff8b",
    77876: "2a76d2006557917b99ff",
    78158: "2a50b2207349249e254c",
    78185: "909618db69750f8e94e0",
    78294: "3408dd99ec197a6bece2",
    78732: "375276b4abbcaa2fb65c",
    78759: "c9a253ee26f89b5abd13",
    79581: "c6894e52c7e36c454b0f",
    79730: "a48ac06ae30799d7d07a",
    79904: "86efa9c9a960d97d71ed",
    79949: "04507f9963b9c2724f7d",
    79995: "e53357a6a76d5be35da1",
    80068: "dabd74ffe513fe17e872",
    80099: "6036e57e560d9c5b5b12",
    80195: "c58a450ace15698979d5",
    80197: "2f60b50dce1f416ef025",
    80238: "570ecd3ad842f9f968ac",
    80284: "121197ad65df0285daf9",
    80372: "25a7fb6ee11649c5c7ba",
    80547: "2d9f44ce41af6be35dfb",
    80664: "d2a190d7e807ad425992",
    80853: "8d9bceb48973ae896c64",
    81580: "e7d6e740e7c11630f7e3",
    81640: "a93bb222bff1c48cb2ad",
    81964: "ac5a2ca155ef07ea4050",
    81977: "39fb9be3ff7531ed374a",
    82312: "157c9d7a9db60f97f7e7",
    82938: "55f1d714da9487b4bf31",
    82958: "7175c4ab79a9d1bbc28d",
    83015: "f469c7edbd31c9db58ea",
    83064: "54741f031a13ec42105a",
    83103: "d004a87303c677872e59",
    83409: "486cd5ad3e23b694553a",
    83699: "c9555e454099a369f90e",
    84084: "59ced33b3f8e3e6f5d55",
    84166: "1fc8475379212ca0fe1f",
    84237: "8fa386e26dd0c406fc94",
    84264: "1b0aea07ed26883db9a5",
    84346: "841bd2d5768ba9932541",
    84380: "9a3e4d5261cf7eab7251",
    84436: "e0d3a1a821de06618e67",
    84440: "943752b0898d0000ab46",
    84441: "de194d5d96527d1911e3",
    84457: "0ab3de72aa03ecffdecf",
    84501: "21ce00a3df31149e4428",
    84562: "b694b11cf166a45f1efb",
    84604: "17da995d8366b10defef",
    84663: "073f3b2d5b3c080e13b3",
    84670: "d4e2df91ee21ac36e2d8",
    84680: "c37f77a041dbb0538740",
    84715: "99717c46a83077ff240c",
    84781: "b779838ea5ac1afec365",
    84832: "f09d428e3b2292bbf873",
    84905: "3a6ffa6d71459c3a3c39",
    84991: "f87183c2b795e58aeebf",
    85376: "a6aa956454dc73ed6842",
    85572: "7ad3cd991dc5bda90f0b",
    85789: "6a579b0dd2c67cd09a2f",
    86045: "c50f8ba2092f2ad4ff09",
    86159: "465b859bcaa8d1a7d534",
    86174: "eddd2df8c7609cad99ba",
    86335: "44809306c5976d1bf230",
    86413: "15e4e4174402e9161207",
    86473: "1adef1eb454ee8a2dec4",
    86502: "06445901352e05e9ba43",
    86611: "772797f41902efe5c763",
    86651: "b5c2655d5eec3baa1389",
    87025: "a38f3e87fe88165e2dfa",
    87133: "1895f91a9b3460cfef25",
    87283: "bd9277229163eaab6a5a",
    87319: "6bbe0db3a22c27a3f819",
    87468: "5489f912c83ea54b8c9b",
    87485: "4c00e8286e8dcd34cf6c",
    87630: "4a989db866060aa6dc4e",
    87812: "e5f953e8fc453d13827c",
    87816: "bc9f9224da466ddcd93b",
    87820: "1c40aa234933419d6904",
    87847: "dc49a4a542d33ddc5a8a",
    87947: "9ed4738cf8a0ae359e5f",
    88005: "d1ce7beec24b20219e02",
    88110: "3a556e6468614b8525c7",
    88310: "368fc48517e726b683af",
    88352: "9a946da3dadf30f6c005",
    89304: "0c11c12803557af75792",
    89594: "a2781dd85cbe7c6d5463",
    89853: "daa5264308c483d1fa3e",
    89938: "83577b3013009fcc33d7",
    90034: "f4eb023bb421a016d868",
    90150: "395bdb2fdb9ab5dc5a84",
    90344: "04fd2faec8f00d926f25",
    90630: "34fb9ad324dfb03eda83",
    90938: "74bd9bbaafa4b977b6e3",
    90992: "8aab4b9e6047e39db4be",
    90997: "7f3765fb66c8c3b6711b",
    91253: "41d78278a672bf941fd7",
    91406: "7d46d8f00b1e9d2ed7e1",
    91509: "bb944ab7eddb4d99f6d2",
    91719: "2b7fb08c245b168d0749",
    92145: "672ccadea523d97dc07f",
    92189: "bef7a5ef3c0b119a7a79",
    92224: "181a5da92b31a17423da",
    92299: "ab4044b21e73e7e61d5b",
    92441: "45ef31deb1df8991546c",
    92662: "52e9a162050602ce8601",
    92814: "64152649f9846f9e3201",
    92827: "fe7efc7aa2111808c798",
    93087: "817092e25959883cbafd",
    93200: "bf1ecd6cea81c761ba3e",
    93483: "a4e1e3fc56ccdae396b0",
    93666: "780deca7ab56e5690fee",
    93696: "08634d91cb9d40bd84c8",
    93888: "cbaa6094f22d5a7d3961",
    93922: "32c5002e536720f84716",
    93953: "b15c45d5fd60b5d502b9",
    93997: "cc6982bedc4e7f0d3e9c",
    94157: "05abd1e56596b9b2dc6b",
    94207: "bfdc3e2d229a1ee3fc0a",
    94223: "13c30a6ca9ec1442e79b",
    94232: "b4085c5670f79c420496",
    94239: "c092575f68692a676901",
    94389: "3986e594383dd09c9aec",
    94453: "44aedb724fb39ccb423a",
    94489: "f09103d295c6ff852600",
    94859: "72f59b5754c69543e8cb",
    94964: "21ce3ca7ed85a8e33f68",
    95081: "c19fbf2988163b501518",
    95132: "d3656b1cbdbef088038c",
    95139: "e2418e2fc1438747643d",
    95260: "85b3e022afeebf9c1e06",
    95599: "78b26e0e28e19d4de264",
    95874: "f39c648154fec911068c",
    95890: "a2b734eaec2dda612154",
    95937: "4b411656044c2e7427d3",
    96006: "fda3609a4361bd33fea8",
    96043: "db1dfd3d88be579f589d",
    96075: "f36d8387d64b538f63b3",
    96259: "57ecc404bddf5373f62a",
    96359: "3d26cdfa0e396e8b227d",
    96710: "a4631cfc6f2989a2b48e",
    96743: "379ec17ab18c70a0ab9f",
    97174: "538a574c15d06ef3a098",
    97250: "5609a16439ac761c949b",
    97264: "94fd87ab182a85995ad7",
    97539: "16908e155a56657123e0",
    97621: "2540bd095c065b6d4864",
    97848: "0d6d4bfc6512594acfc7",
    98010: "01be3e8deca7bbdb829c",
    98027: "e5e45ec661bd6c5215ae",
    98030: "fad836ca6ca2076b54cc",
    98153: "efe8c670c012a662155e",
    98655: "6238a9ca043d1f322321",
    98847: "268803a6f6ed37cc89ca",
    99134: "ec1d4bb64c06b558ff85",
    99271: "35c464eac87c63aa1c37",
    99316: "9b0f7f43dd5bbb7f1537",
    99368: "2e40421b59f07e10b4c6",
    99549: "1ab38c307806619cb913",
    99707: "545228ce4316139bc47c",
};

async function chunkSearch() {
    try {
        const fetchPromises = Object.values(chunks).map(async (id) => {
            try {
                if (fs.existsSync(`./assets/${id}.js`)) {
                    // console.log(`Skipping ${id}.js! (reason: already exists)`);
                    return;
                }
                const data = await (
                    await fetch(`https://discord.com/assets/${id}.js`)
                ).text();
                if (!fs.existsSync("./assets")) fs.mkdirSync("./assets");
                fs.writeFileSync(`./assets/${id}.js`, data);
                console.log(`https://discord.com/assets/${id}.js finished!`);
            } catch (e) {
                console.log(`Error fetching! ${e}`);
            }
        });

        await Promise.all(fetchPromises);
    } catch (e) {
        console.log(`Error in chunkSearch! ${e}`);
    }
}

async function cssSearch() {
    try {
        if (!fs.existsSync("css-to-search.css")) return;

        const css = fs.readFileSync("css-to-search.css", "utf-8");

        const regex = /url\((.*?)\)/gi;
        const matches = css.match(regex) || [];

        const urlContents = matches.map((match) =>
            match.replace(/url\((.*?)\)/i, "$1")
        );

        for (const url of urlContents) {
            try {
                if (!url.startsWith("/assets/")) continue;
                if (fs.existsSync(`.${url}`)) {
                    // console.log(`Skipping ${url}! (reason: already exists)`);
                    continue;
                }
                if (!fs.existsSync("./assets")) fs.mkdirSync("./assets");
                await downloadImageToUrl(
                    `https://discord.com${url}`,
                    `.${url}`
                );
                console.log(`${url} finished!`);
            } catch (e) {
                console.log(`Error fetching! ${e}`);
            }
        }
    } catch (error) {
        console.log(`Error reading CSS file! ${error}`);
    }
}

(async () => {
    await Promise.all([cssSearch(), chunkSearch()]);
    const files = fs.readdirSync("./assets");
    console.log(
        `Successfully extracted ${files.length} assets! Beginning full JS search. THIS WILL TAKE A WHILE. NODE IS A SLOW ENGINE, AND THESE JS FILES ARE UPWARDS OF 3MB.`
    );
    for (let i = 0; i < 500; i++) {
        const fetchPromises = files
            .filter((f) => f.endsWith(".js"))
            .map(async (fileName) => {
                const file = fs.readFileSync(`./assets/${fileName}`).toString();
                const regex =
                    /"([a-fA-F0-9]{32}\.(svg|png|mp4|mp3|webm|ico|woff2)")/gm;
                const matches = file.match(regex) || [];
                if (fs.existsSync("matches.txt")) fs.rmSync("matches.txt");
                const urlContents = matches.map((match) =>
                    match.replaceAll('"', "")
                );

                const fetchPromises = urlContents.map(async (url) => {
                    try {
                        if (fs.existsSync(`./assets/${url}`)) {
                            // console.log(
                            //     `Skipping ${url}! (reason: already exists)`
                            // );
                            return;
                        }
                        await downloadImageToUrl(
                            `https://discord.com/assets/${url}`,
                            `./assets/${url}`
                        );
                        console.log(`${url} finished!`);
                    } catch (e) {
                        // console.log(`Error fetching! ${e}`);
                    }
                });
                await Promise.all(fetchPromises);
            });
        await Promise.all(fetchPromises);
        console.log(`Pass ${i} is done! (No output? It's probably done.)`);
    }
})();
